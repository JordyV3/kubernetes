(this["webpackJsonpreact-digitalocean-spaces"]=this["webpackJsonpreact-digitalocean-spaces"]||[]).push([[0],{33:function(e,a,t){},63:function(e,a,t){},64:function(e,a,t){"use strict";t.r(a);var c=t(0),s=t.n(c),n=t(27),r=t.n(n),i=(t(33),t(2)),l=t(8),o=t.n(l),d=t(11),b=t(9),j=t(12),u=t.n(j),m=t(1),p=function(){var e=Object(i.f)(),a=Object(c.useState)([]),t=Object(b.a)(a,2),s=t[0],n=t[1];return Object(c.useEffect)((function(){Object(d.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/api/images");case 2:a=e.sent,console.log(a),n(a.data);case 5:case"end":return e.stop()}}),e)})))()}),[]),0===s.length?Object(m.jsx)("h1",{className:"h4 text-center",children:"No hay Imagenes"}):Object(m.jsx)("div",{className:"row",children:s.map((function(a){return Object(m.jsx)("div",{className:"col-md-4 p-1",onClick:function(){return e.push("/images/".concat(a._id))},children:Object(m.jsx)("div",{className:"card bg-dark h-100 card-image",children:Object(m.jsx)("div",{className:"card-body",children:Object(m.jsx)("img",{src:a.url,alt:"",className:"img-fluid h-100 w-100",style:{objectFit:"cover"}})})})},a._id)}))})},g=function(){var e=Object(c.useState)(),a=Object(b.a)(e,2),t=a[0],s=a[1],n=Object(c.useState)(""),r=Object(b.a)(n,2),i=r[0],l=r[1],j=Object(c.useState)(0),p=Object(b.a)(j,2),g=p[0],h=p[1],O=Object(c.useState)(!1),x=Object(b.a)(O,2),v=x[0],f=x[1],N=function(){var e=Object(d.a)(o.a.mark((function e(a){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),f(!0),(c=new FormData).append("file",t),c.append("title",i),e.next=7,u.a.post("/api/images/upload",c,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var a=e.loaded,t=e.total,c=parseInt(100*a/t);h(c)}});case 7:s=e.sent,f(!1),h(0),console.log(s);case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"col-md-4 offset-md-4",children:[v&&Object(m.jsx)("div",{className:"progress rounded-0",children:Object(m.jsxs)("div",{className:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:{width:"".concat(g,"%")},children:[g,"%"]})}),Object(m.jsx)("div",{className:"card bg-dark text-light rounded-0 p-4",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h1",{className:"h3 card-title",children:"Subir Imagen"}),Object(m.jsxs)("form",{onSubmit:N,children:[Object(m.jsx)("input",{type:"text",className:"form-control bg-dark text-light my-3",placeholder:"Escribe un titulo para tu foto",onChange:function(e){return l(e.target.value)}}),Object(m.jsx)("input",{type:"file",className:"form-control bg-dark text-light rounded-0 border border-secondary",onChange:function(e){s(e.target.files[0])}}),Object(m.jsx)("div",{className:"my-3",children:Object(m.jsx)("button",{className:"btn btn-success rounded-0 w-100",disabled:v||!t,children:v?Object(m.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):"Upload"})})]})]})})]})},h=function(){var e=Object(c.useState)({title:"",url:"",_id:""}),a=Object(b.a)(e,2),t=a[0],s=a[1],n=Object(i.g)();Object(c.useEffect)((function(){Object(d.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/api/images/".concat(n.id));case 2:a=e.sent,s(a.data);case 4:case"end":return e.stop()}}),e)})))(),console.log("works")}),[n.id]);var r=function(){var e=Object(d.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.delete("/api/images/".concat(n.id));case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-4 offset-md-4",children:Object(m.jsxs)("div",{className:"card bg-dark",children:[Object(m.jsx)("img",{src:t.url,alt:t.title,className:"card-img-top"}),Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h1",{children:t.title}),Object(m.jsx)("button",{className:"btn btn-outline-danger",children:Object(m.jsx)("span",{className:"material-icons",onClick:r,children:"delete"})})]})]})})})},O=(t(62),t(63),t.p+"static/media/logo.6ce24c58.svg"),x=t(10),v=function(){return Object(m.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsxs)(x.b,{className:"navbar-brand",to:"/",children:[Object(m.jsx)("img",{src:O,className:"App-logo",alt:"logo"}),"Gallery Jordy Vega"]}),Object(m.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("span",{className:"navbar-toggler-icon"})}),Object(m.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(m.jsx)("ul",{className:"navbar-nav d-flex ms-auto",children:Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsxs)(x.b,{className:"nav-link active d-flex align-items-center","aria-current":"page",to:"/upload",children:[Object(m.jsx)("span",{className:"material-icons",children:"file_upload"}),"Subir imagen"]})})})})]})})};var f=function(){return Object(m.jsxs)("div",{className:"App bg-dark text-light",children:[Object(m.jsx)(v,{}),Object(m.jsx)("div",{className:"container p-4",children:Object(m.jsxs)(i.c,{children:[Object(m.jsx)(i.a,{path:"/",component:p,exact:!0}),Object(m.jsx)(i.a,{path:"/upload",component:g}),Object(m.jsx)(i.a,{path:"/images/:id",component:h})]})})]})},N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,65)).then((function(a){var t=a.getCLS,c=a.getFID,s=a.getFCP,n=a.getLCP,r=a.getTTFB;t(e),c(e),s(e),n(e),r(e)}))};r.a.render(Object(m.jsx)(x.a,{children:Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(f,{})})}),document.getElementById("root")),N()}},[[64,1,2]]]);
//# sourceMappingURL=main.0a561879.chunk.js.map