{"version":3,"sources":["pages/ImageGallery.js","pages/ImageForm.js","pages/ImageDetails.js","logo.svg","components/Navbar.js","App.js","reportWebVitals.js","index.js"],"names":["ImageGallery","history","useHistory","useState","images","setImages","useEffect","a","axios","get","res","console","log","data","length","className","map","image","onClick","push","_id","src","url","alt","style","objectFit","ImageForm","file","setFile","title","setTitle","uploadPercentage","setUploadPercentage","loading","setLoading","handleSubmit","e","preventDefault","formData","FormData","append","post","headers","onUploadProgress","progressEvent","loaded","total","percent","parseInt","role","width","onSubmit","type","placeholder","onChange","target","value","files","disabled","aria-hidden","ImageDetails","setImage","params","useParams","id","handleDelete","delete","Navbar","to","logo","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","aria-current","App","path","component","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0a561879.chunk.js","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst ImageGallery = () => {\n  const history = useHistory();\n  const [images, setImages] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      const res = await axios.get(\"/api/images\");\n      console.log(res);\n      setImages(res.data);\n    })();\n  }, []);\n\n  if (images.length === 0) {\n    return <h1 className=\"h4 text-center\">No hay Imagenes</h1>\n  }\n\n  return (\n    <div className=\"row\">\n      {images.map((image) => (\n        <div\n          className=\"col-md-4 p-1\"\n          key={image._id}\n          onClick={() => history.push(`/images/${image._id}`)}\n        >\n          <div className=\"card bg-dark h-100 card-image\">\n            <div className=\"card-body\">\n              <img\n                src={image.url}\n                alt=\"\"\n                className=\"img-fluid h-100 w-100\"\n                style={{ objectFit: \"cover\" }}\n              />\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default ImageGallery;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst ImageForm = () => {\n  const [file, setFile] = useState();\n  const [title, setTitle] = useState(\"\");\n  const [uploadPercentage, setUploadPercentage] = useState(0);\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (e) => {\n    setFile(e.target.files[0]);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    setLoading(true);\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"title\", title);\n\n    const res = await axios.post(\"/api/images/upload\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n      onUploadProgress: (progressEvent) => {\n        const { loaded, total } = progressEvent;\n\n        let percent = parseInt((loaded * 100) / total);\n        setUploadPercentage(percent);\n      },\n    });\n\n    setLoading(false);\n    setUploadPercentage(0);\n\n    console.log(res);\n  };\n\n  return (\n    <div className=\"col-md-4 offset-md-4\">\n      {loading && (\n        <div className=\"progress rounded-0\">\n          <div\n            className=\"progress-bar progress-bar-striped bg-success\"\n            role=\"progressbar\"\n            style={{ width: `${uploadPercentage}%` }}\n          >\n            {uploadPercentage}%\n          </div>\n        </div>\n      )}\n\n      <div className=\"card bg-dark text-light rounded-0 p-4\">\n        <div className=\"card-body\">\n          <h1 className=\"h3 card-title\">Subir Imagen</h1>\n          <form onSubmit={handleSubmit}>\n            {/* Upload Input */}\n            <input\n              type=\"text\"\n              className=\"form-control bg-dark text-light my-3\"\n              placeholder=\"Escribe un titulo para tu foto\"\n              onChange={(e) => setTitle(e.target.value)}\n            />\n            <input\n              type=\"file\"\n              className=\"form-control bg-dark text-light rounded-0 border border-secondary\"\n              onChange={handleChange}\n            />\n            <div className=\"my-3\">\n              <button\n                className=\"btn btn-success rounded-0 w-100\"\n                disabled={loading || !file}\n              >\n                {!loading ? (\n                  \"Upload\"\n                ) : (\n                  <span\n                    className=\"spinner-border spinner-border-sm\"\n                    role=\"status\"\n                    aria-hidden=\"true\"\n                  ></span>\n                )}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImageForm;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst ImageDetails = () => {\n  const [image, setImage] = useState({\n    title: \"\",\n    url: \"\",\n    _id: \"\",\n  });\n  const params = useParams();\n\n  useEffect(() => {\n    (async () => {\n      const res = await axios.get(`/api/images/${params.id}`);\n      setImage(res.data);\n      // console.log(res.data);\n    })();\n    console.log(\"works\") \n  }, [params.id]);\n\n  const handleDelete = async () => {\n    const res = await axios.delete(`/api/images/${params.id}`);\n    console.log(res)\n  }\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-md-4 offset-md-4\">\n        <div className=\"card bg-dark\">\n          <img src={image.url} alt={image.title} className=\"card-img-top\" />\n          <div className=\"card-body\">\n            <h1>{image.title}</h1>\n            <button className=\"btn btn-outline-danger\">\n              <span className=\"material-icons\" onClick={handleDelete}>delete</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImageDetails;\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from \"react\";\nimport logo from \"../logo.svg\";\nimport { Link } from \"react-router-dom\";\n\nconst Navbar = () => {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n      <div className=\"container\">\n        <Link className=\"navbar-brand\" to=\"/\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          Gallery Jordy Vega\n        </Link>\n        <button\n          className=\"navbar-toggler\"\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#navbarNav\"\n          aria-controls=\"navbarNav\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n          <ul className=\"navbar-nav d-flex ms-auto\">\n            <li className=\"nav-item\">\n              <Link\n                className=\"nav-link active d-flex align-items-center\"\n                aria-current=\"page\"\n                to=\"/upload\"\n              >\n                <span className=\"material-icons\">file_upload</span>\n                Subir imagen\n              </Link>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import { Route, Switch } from \"react-router-dom\";\n\nimport ImageGallery from \"./pages/ImageGallery\";\nimport ImageForm from \"./pages/ImageForm\";\nimport ImageDetails from \"./pages/ImageDetails\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport Navbar from \"./components/Navbar\";\n\nfunction App() {\n  return (\n    <div className=\"App bg-dark text-light\">\n      <Navbar />\n      <div className=\"container p-4\">\n        <Switch>\n          <Route path=\"/\" component={ImageGallery} exact />\n          <Route path=\"/upload\" component={ImageForm} />\n          <Route path=\"/images/:id\" component={ImageDetails} />\n        </Switch>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}